<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Listing</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/create-listing-style.css">
    <link rel="stylesheet" href="/stylesheets/navbar-style.css">
</head>
<body>
    <div class="navbar">
        <a href="/">Home</a>
        <a class="active" href="/create-listing">Create Listing</a>
        <a href="/messages">Messages</a>
        <div class="navbar-right">
            <a href="/help">Help</a>
            <a href="/account">Account</a>
            <a href="/signup">Sign up</a>
            <a href="/login">Log in</a>
        </div>
    </div>
    <div class="listing-container">
        <form method="post" class="listing-form">
            <div class="input-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required>
            </div>
            <div class="input-group">
                <label for="description">Description</label>
                <input type="text" id="description" name="description" required>
            </div>
            <div class="input-group">
                <label for="Price">Price</label>
                <input type="number" id="price" name="price" required>
            </div>
            <div class="input-group">
                <div class="quality-container">
                    <div>
                        <label for="Quality">Quality</label>
                    </div>
                    <input type ="hidden" id="quality" name="quality" required>
                    <div class="box" id="box1" onclick="selectBox('box1')">Bad</div>
                    <div class="box" id="box2" onclick="selectBox('box2')">Poor</div>
                    <div class="box" id="box3" onclick="selectBox('box3')">Good</div>
                    <div class="box" id="box4" onclick="selectBox('box4')">Great</div>
                    <div class="box" id="box5" onclick="selectBox('box5')">Like New</div>
                </div>
            </div>
            <div class="input-group">
                <label for="image">Image URL</label>
                <input type="text" id="image" name="image" required>
            </div>
            <div class="input-group">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="textbook">Textbook</option>
                    <option value="furniture">Furniture</option>
                </select>
            </div>
            <button type="submit" class="list-btn">List Item</button>
            <button type="submit" class="cancel-btn">Cancel</button>
        </form>
    </div>

    <script>
        // Keep track of the selected box
        let selectedBox = null;
        let boxId = null;
        function selectBox(boxId) {
            // If a box was already selected, remove the highlight
            if (selectedBox) {
                document.getElementById(selectedBox).classList.remove('selected');
            }

            // Highlight the newly selected box

            selectedBox = boxId;
            document.getElementById(selectedBox).classList.add('selected');
        
            const quality = document.getElementById('quality');
            quality.value = document.getElementById(selectedBox).innerText;
    }

        // Prevent form submission if no box is selected
        document.querySelector('.listing-form').addEventListener('submit', function (event) {
            if (!selectedBox) {
                event.preventDefault();
                alert('Please select a quality before submitting.');
            }
        });
    </script>

</body>
</html>